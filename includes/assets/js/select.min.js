jQuery(function(t){function e(){var t={formatMatches:function(t){return 1===t?wcv_product_select_params.i18n_matches_1:wcv_product_select_params.i18n_matches_n.replace("%qty%",t)},formatNoMatches:function(){return wcv_product_select_params.i18n_no_matches},formatAjaxError:function(t,e,n){return wcv_product_select_params.i18n_ajax_error},formatInputTooShort:function(t,e){var n=e-t.length;return 1===n?wcv_product_select_params.i18n_input_too_short_1:wcv_product_select_params.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(t,e){var n=t.length-e;return 1===n?wcv_product_select_params.i18n_input_too_long_1:wcv_product_select_params.i18n_input_too_long_n.replace("%qty%",n)},formatSelectionTooBig:function(t){return 1===t?wcv_product_select_params.i18n_selection_too_long_1:wcv_product_select_params.i18n_selection_too_long_n.replace("%qty%",t)},formatLoadMore:function(t){return wcv_product_select_params.i18n_load_more},formatSearching:function(){return wcv_product_select_params.i18n_searching}};return t}t("body").on("wcv-select-init",function(){t(":input.wc-product-search").filter(":not(.enhanced)").each(function(){var n={allowClear:t(this).data("allow_clear")?!0:!1,placeholder:t(this).data("placeholder"),minimumInputLength:t(this).data("minimum_input_length")?t(this).data("minimum_input_length"):"3",escapeMarkup:function(t){return t},ajax:{url:wcv_product_select_params.ajax_url,dataType:"json",quietMillis:250,data:function(e,n){return{term:e,action:t(this).data("action")||"wcv_json_search_products",security:wcv_product_select_params.nonce}},results:function(e,n){var r=[];return e&&t.each(e,function(t,e){r.push({id:t,text:e})}),{results:r}},cache:!0}};t(this).data("multiple")===!0?(n.multiple=!0,n.initSelection=function(e,n){var r=t.parseJSON(e.attr("data-selected")),a=[];return t(e.val().split(",")).each(function(t,e){a.push({id:e,text:r[e]})}),n(a)},n.formatSelection=function(t){return'<div class="selected-option" data-id="'+t.id+'">'+t.text+"</div>"}):(n.multiple=!1,n.initSelection=function(t,e){var n={id:t.val(),text:t.attr("data-selected")};return e(n)}),n=t.extend(n,e()),t(this).select2(n).addClass("enhanced")})}).trigger("wcv-select-init")});